<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Arsenal Betting App</title>
<link rel="manifest" href="manifest.json">
<meta name="theme-color" content="#EF0107">
<style>
  body {
    font-family: 'Arial', sans-serif;
    margin:0; padding:0;
    background: #111 url('https://upload.wikimedia.org/wikipedia/en/5/53/Arsenal_FC.svg') no-repeat center center;
    background-size: 200px auto;
    color: white; text-align: center;
    min-height: 100vh; display: flex; flex-direction: column;
  }
  h1 { margin: 20px 0 10px; text-shadow: 2px 2px 4px black; }
  input, select, button {
    padding: 10px; margin: 5px; font-size: 16px;
    border-radius: 6px; border: none;
  }
  input { width: 60%; }
  button { background-color: #EF0107; color: white; font-weight: bold; cursor: pointer; }
  button:hover { background-color: #B70005; }
  #scoreButtons { margin: 15px 0; }
  #scoreButtons select { font-size: 16px; padding: 8px; }
  #betsList {
    margin: 20px auto; background: rgba(0,0,0,0.6);
    padding: 15px; border-radius: 10px;
    max-width: 90%; flex-grow: 1; overflow-y: auto;
  }
  #betsList ul { list-style: none; padding: 0; }
  #totalPot { margin-top: 10px; font-weight: bold; }
</style>
</head>
<body>
<h1>Arsenal Betting App</h1>
<p>£2 per bet – Enter your name and pick a score!</p>
<input type="text" id="name" placeholder="Your Name">

<div id="scoreButtons">
  <select id="homeScore"></select>
  <span>–</span>
  <select id="awayScore"></select>
  <button onclick="addBet()">Place Bet</button>
</div>

<div id="betsList">
  <h2>Bets:</h2>
  <ul id="list"></ul>
  <div id="totalPot">Total Pot: £0</div>
</div>

<script>
const betKey = 'arsenalBets';

// Setup score dropdowns
function setupScores(max = 10) {
  const home = document.getElementById('homeScore');
  const away = document.getElementById('awayScore');
  for (let i = 0; i <= max; i++) {
    let optH = document.createElement('option');
    optH.value = optH.textContent = i;
    home.appendChild(optH);

    let optA = document.createElement('option');
    optA.value = optA.textContent = i;
    away.appendChild(optA);
  }
}

function getBets() {
  const bets = localStorage.getItem(betKey);
  return bets ? JSON.parse(bets) : [];
}
function saveBets(bets) { localStorage.setItem(betKey, JSON.stringify(bets)); }

function addBet() {
  const nameInput = document.getElementById('name');
  const name = nameInput.value.trim();
  if (!name) { alert('Please enter your name!'); return; }

  const home = document.getElementById('homeScore').value;
  const away = document.getElementById('awayScore').value;
  const score = `${home}-${away}`;

  const bets = getBets();
  bets.push({ name, score, amount: 2 });
  saveBets(bets);

  nameInput.value = '';
  renderBets();
}

function removeBet(index) {
  const bets = getBets();
  bets.splice(index, 1); // remove one bet at given index
  saveBets(bets);
  renderBets();
}

function renderBets() {
  const bets = getBets();
  const list = document.getElementById('list');
  list.innerHTML = '';
  bets.forEach((bet, index) => {
    const li = document.createElement('li');
    li.textContent = `${bet.name} – ${bet.score} (£${bet.amount}) `;

    const btn = document.createElement('button');
    btn.textContent = '❌ Remove';
    btn.style.marginLeft = '10px';
    btn.style.background = '#444';
    btn.style.color = 'white';
    btn.style.cursor = 'pointer';
    btn.onclick = () => removeBet(index);

    li.appendChild(btn);
    list.appendChild(li);
  });
  const total = bets.reduce((sum, bet) => sum + bet.amount, 0);
  document.getElementById('totalPot').textContent = `Total Pot: £${total}`;
}

// Init
setupScores(10);
renderBets();

if ('serviceWorker' in navigator) {
  navigator.serviceWorker.register('sw.js').then(() => console.log('Service Worker Registered'));
}
</script>

</script>
</body>
</html>
